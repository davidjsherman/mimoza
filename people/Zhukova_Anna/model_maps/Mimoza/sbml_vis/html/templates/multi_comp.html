<!DOCTYPE HTML PUBLIC '-//W3C//DTD HTML 4.01 Transitional//EN'>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link media="all" href="lib/modelmap/modelmap.min.css" type="text/css" rel="stylesheet" />
    <link media="all" href="lib/leaflet/leaflet.css" type="text/css" rel="stylesheet" />
    <link media="all" href="lib/leaflet_label/leaflet.label.css" type="text/css" rel="stylesheet" />
    <link media="all" href="lib/leaflet/leaflet.fusesearch.min.css" type="text/css" rel="stylesheet" />
    <link media="all" href="lib/jquery/jquery-ui.min.css" type="text/css" rel="stylesheet" />
    <link media="all" href="lib/onlinehtmltools/skins/skin11/top.css" type="text/css" rel="stylesheet" />

    <link href="lib/modelmap/fav.ico" type="image/x-icon" rel="shortcut icon" />

    <title>{{title}}</title>

    <script src="lib/leaflet/leaflet.js" type="text/javascript"></script>
    <script src="lib/leaflet_label/leaflet.label.js" type="text/javascript"></script>
    <script src="lib/leaflet/fuse.min.js" type="text/javascript"></script>
    <script src="lib/leaflet/leaflet.fusesearch.min.js" type="text/javascript"></script>
    <script src="lib/jquery/jquery-2.1.4.min.js" type="text/javascript"></script>
    <script src="lib/modelmap/maptools.min.js" type="text/javascript"></script>
    <script src="lib/modelmap/popup_formatter.min.js" type="text/javascript"></script>
    <script src="lib/modelmap/geojson_manager.min.js" type="text/javascript"></script>
    <script src="lib/jquery/jquery-ui.min.js" type="text/javascript"></script>
    <script src="lib/onlinehtmltools/skinable_tabs.min.js" type="text/javascript"></script>
</head>
<body>
    <h1>{{title}}</h1>
    <div class="center">{{description}}</div>
    <div class="tabs_holder">
        <ul>
            {% for (header, _, _, _, _, map_id, _) in model_data %}
                <li><a href="#tab-{{map_id}}">{{header}}</a></li>
            {% endfor %}
        </ul>

        <div class="content_holder">
            {% for (title, c_id2name, json_files, c_id2json_vars, c_id2out_c_id, map_id, description) in model_data %}
                <div class="centre" id="tab-{{map_id}}">
                    <div>{{description}}</div>
                    <div class="margin" id="search_{{map_id}}">
                        <form id="search_form_{{map_id}}" name="search_form">
                            <label><input type="text" name="search_input" id="tags_{{map_id}}" /></label>
                            <input type="button" value="Search" />
                        </form>
                    </div>
                    <div class="map ui-widget-content" id="{{map_id}}"></div>
                    <div class="margin" id="explanations_{{map_id}}">
                        <p>
                            <span class="pant">Zoom in/out</span> to see more/less details.
                            <span class="pant">Click</span> on elements to see their annotations.
                            <span class="pant">Show/Hide</span> elements in the map settings <span class="explanation">(top right of the map view)</span>.
                        </p>
                    </div>
                    {% for json in json_files %}
                        <script src="{{json}}" type="text/javascript"></script>
                    {% endfor %}
                    <script>L_PREFER_CANVAS = true;</script>
                    <script type="text/javascript">
                        initializeMap({{c_id2json_vars}}, "{{map_id}}", {{c_id2name}}, {{c_id2out_c_id}});
                    </script>
                    <script>$(function() {$("#{{map_id}}").resizable();});</script>
                    <script>$(function() {$("#tab-{{map_id}}").resizable();});</script>
                </div>
            {% endfor %}
        </div>
    </div>
    <script type="text/javascript">
        $('.tabs_holder').skinableTabs({
            effect: 'basic_display',
            skin: 'skin11',
            position: 'top'
        });
    </script>
    <script>$(function() {$(".tabs_holder").resizable();});</script>
</body>
</html>