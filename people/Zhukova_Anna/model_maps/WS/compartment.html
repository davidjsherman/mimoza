<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/html">

<head>
    <link rel="stylesheet" href="./leaflet.css"/>
    <link rel='shortcut icon' type='image/x-icon' href='fav.ico' />
    <link rel="stylesheet" type="text/css" href="modelmap.css">
</head>

<body>
<ul class="menu">
    <li><a href="./compartment.html?name=cytoplasm">Cytoplasm</a></li>
    <li><a href="./compartment.html?name=peroxisome">Peroxisome</a></li>
    <li><a href="./compartment.html?name=er">Endoplasmic Reticulum</a></li>
    <li><a href="./compartment.html?name=lipid_particle">Lipid Particle</a></li>
</ul>

<h1 class="capitalize"><span id='comp'>Compartment</span> of <i>Y. lipolytica</i> (<a href="http://www.ebi.ac.uk/biomodels-main/MODEL1111190000">MODEL1111190000</a>)</h1>
<!--<button type="button" onclick="centerMap()">Centre<br>map</button>-->
<div id="explanations" class="margin">
    <p><span class="pant">Zoom in</span> to see the more detailed
  model. <span class="pant">Zoom out</span> to see the generalized
  model. <span class="pant">Click</span> on species and reactions to see
  their annotations.</p>
</div>

<script src="./leaflet.js" type="text/javascript"></script>
<script src="./maptools.js" type="text/javascript"></script>
<script src="http://code.jquery.com/jquery-1.10.2.min.js" type="text/javascript"></script>

<script src="./mito_f.json" type="text/javascript"></script>
<script src="./mito.json" type="text/javascript"></script>

<script src="./cyto.json" type="text/javascript"></script>

<script src="./pero_f.json" type="text/javascript"></script>
<script src="./pero.json" type="text/javascript"></script>
<div>
    <form name="search_form" onclick="search(map, name2popup);">
        <label>
            <input type="text" name="search_input">
        </label><input type="button" value="Search" >
    </form>
</div>
<!--our viewpoint-->
<div class="nomargin" id="map" style="width: 1024px; height: 1024px"></div>

<script>
    var comp2geojson = {'mitochondrion': [gjsn__mitochondrion, gjsn__mitochondrion_full], 'cytoplasm': [gjsn__cytoplasm], 'peroxisome': [gjsn__peroxisome, gjsn__peroxisome_full]};

    var compartment = gup('name');

    var span = document.getElementById('comp');
    while (span.firstChild) {
        span.removeChild(span.firstChild);
    }
    span.appendChild(document.createTextNode(compartment));

    map = initializeMap(4);
    var name2popup = {};
    getGeoJson(map, comp2geojson[compartment], name2popup);


    L.tileLayer('./' + compartment + '/{z}/{x}/{y}.png', {
        continuousWorld: true,
        noWrap: true,
        tileSize: 256,
        reuseTiles: true,
        maxZoom: 4,
        minZoom: 1,
        tms: true
    }).addTo(map);
</script>
</body>

</html>
